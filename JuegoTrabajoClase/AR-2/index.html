<html>
<head>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/jeromeetienne/ar.js/1.7.7/aframe/build/aframe-ar.min.js"></script>
    <script src="https://raw.githack.com/fcor/arjs-gestures/master/dist/gestures.js"></script>
</head>

<body>
    <a-scene embedded arjs="debugUIEnabled:false; detectionMode:mono_and_matrix; matrixCodeType:3x3;" vr-mode-ui="enabled:false" gesture-detector>
        
        <a-assets>
            <!-- Cargar modelos GLTF (con animación) -->
            <a-asset-item id="bulba-gltf" src="bulba.glb"></a-asset-item>

        </a-assets>

        <a-marker type="barcode" value="0">
            <!-- Añadir animation-mixer para activar las animaciones -->
            <a-entity id="bulba" 
                      rotation="0 150 0" 
                      position="0 0 0" 
                      scale="0.1 0.1 0.1" 
                      gltf-model="#bulba-gltf" 
                      animation-mixer 
                      gesture-handler>
            </a-entity>
        </a-marker>
        <a-entity camera></a-entity>
    </a-scene>

    <script>
        // Obtener las entidades de los modelos
        let bulba = document.querySelector('#bulba');

        // Controlar la animación de Diglett
        bulba.addEventListener('click', function() {
            let mixer = bulba.getAttribute('animation-mixer');
            // Alternar entre detener y reproducir la animación
            if (mixer.isRunning()) {
                mixer.stop();  // Pausar la animación
            } else {
                mixer.play();  // Reproducir la animación
            }
        });
    </script>
</body>
</html>